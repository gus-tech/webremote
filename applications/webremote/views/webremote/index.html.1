{{extend 'layout.html'}}
{{import json}}

<meta id="viewport" name="viewport" content="user-scalable=no, width=600">

<link rel="stylesheet" href="{{=URL('static', 'css/jquery.mobile-1.4.5.min.css')}}">
<link rel="stylesheet" href="{{=URL('static', 'css/jquery-ui.css')}}">
<link rel="stylesheet" href="{{=URL('webremote.css')}}">

<script>
    document.body.style.display = "none";
    var WEBSOCKET_PORT = "{{=WEBSOCKET_PORT}}"
    var remotes = JSON.parse("{{=XML(json.dumps(remotes).replace('"','\\"'))}}");
    console.log("Remotes:"); console.log(remotes);
    var buttons = JSON.parse("{{=XML(json.dumps(buttons).replace('"','\\"'))}}");
    console.log("Buttons:"); console.log(buttons);
    var activities = JSON.parse("{{=XML(json.dumps(activities).replace('"','\\"'))}}");
    console.log("Activities:"); console.log(activities);
    var button_maps = JSON.parse("{{=XML(json.dumps(button_maps).replace('"','\\"'))}}");
    console.log("Button Maps:"); console.log(button_maps);
    var key_maps = JSON.parse("{{=XML(json.dumps(key_maps).replace('"','\\"'))}}");
    console.log("Key Maps:"); console.log(key_maps);
    var voice_maps = JSON.parse("{{=XML(json.dumps(voice_maps).replace('"','\\"'))}}");
    console.log("Voice Maps:"); console.log(voice_maps);
    var LAYOUT_WIDTH = 1140
    var LAYOUT_HEIGHT = 800
    var PADDING = 20
    var GRID_SIZE = 10
</script>

<div id="master">
    <div id="toolbar" class="side_div">
        <ul id="toolbar_tabs">
            <li><a href="#maps_div">Maps</a></li>
            <li><a href="#settings_div">Settings</a></li>
        <!--
            <li><a href="#macros_div">Macros</a></li>
        -->
            <li id="edit_check" data-toggle="tooltip" data-placement="bottom" title="Toggle Edit Mode"><a href="#edit_mode">
                <span class="edit_mode glyphicon glyphicon-unchecked" data-checked="true"></span>
            </a></li>
        </ul>
        <div id="maps_div">
            <ul id="maps_tabs">
                <li><a href="#key_maps">Keyboard</a></li>
                <li><a href="#voice_maps">Voice</a></li>
            </ul>
            <div id="add_map_div" class="add_button_div">
                <div id="add_map_button" class="button add_button" style="padding-top:0px; padding-bottom:0px;" onclick="add_map();">Add Map</div>
            </div>
            <div id="key_maps" class="map_div"></div>
            <div id="voice_maps" class="map_div"></div>
        </div>
        <div id="settings_div">
            <h1>Voice</h1>
            <input id="voice_check" type="checkbox">
            <h1>Buttons</h1>
            <div id="button_large" class="button template large"></div><br>
            <div id="button_wide"  class="button template wide" ></div><br>
            <div id="button_tall"  class="button template tall" ></div><br>
            <div id="button_small" class="button template small"></div><br>
        </div>
    <!--
        <div id="macros_div">
            <ul id="macro_tabs">
                <li><a href="#add_macro" class="add trash">
                        <span class="glyphicon glyphicon-plus"></span>
                </li></a>
                <li><a href="#activity_macros">Activity</a></li>
                <li><a href="#global_macros">Global</a></li>
            </ul>
            <div id="activity_macros" class="map_div" style="padding-bottom:0px;"></div>
            <div id="global_macros" class="map_div" style="padding-bottom:0px;"></div>
        </div>
    -->
    </div><!--toolbar-->
    <div id="primary_div">
        <ul id="primary_tabs">
            <li><a href="#activities_div">Activities</a></li>
            <li><a href="#remotes_div">Remotes</a></li>
            <li><a href="#maps_div">Maps</a></li>
            <li><a href="#settings_div">Settings</a></li>
        </ul>
        <div id="activities_div">
            <ul id="activities_tab">
                <li data-toggle="tooltip" data-placement="bottom" title="Add Activity"><a href="#add_activity" class="add trash">
                        <span class="glyphicon glyphicon-plus"></span>
                </li></a>
            </ul>
        </div>
    <!--
        <div id="info_div">
        </div>
    -->
    </div><!--primary_div-->
    <div id="remotes_div" class="side_div">
        <ul id="remotes_tabs">
            <li data-toggle="tooltip" data-placement="bottom" title="Add Remote"><a href="#add_remote" class="add trash">
                <span class="glyphicon glyphicon-plus"></span>
            </a></li>
        </ul>
        <div id="add_remote_button_div" class="add_button_div">
            <div id="add_remote_button" class="button add_button" style="padding-top:0px; padding-bottom:0px;" onclick="add_remote_button();">Add Button</div>
        </div>
    </div>
</div><!--master-->

<script src="{{=URL('static', 'js/jquery-ui.js')}}"></script>
<script src="{{=URL('static', 'js/jquery.mobile-1.4.5.js')}}"></script>
<script src="{{=URL('static', 'js/jquery.ui.touch-punch.min.js')}}"></script>
<script src="{{=URL('static', 'js/jquerymobile-swipeupdown.js')}}"></script>
<script src="{{=URL('static', 'js/annyang.min.js')}}"></script>
<script src="{{=URL('webremote.js')}}"></script>
